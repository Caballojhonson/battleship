(()=>{var t={71:t=>{function r(t,r,n,e){const i=function(t){return"carrier"===t?5:"battleship"===t?4:"cruiser"===t?3:"destroyer"===t?2:"submarine"===t?1:void 0}(t);return{type:t,axis:e,length:i,coords:function(){let t=[];if("x"===e)if(r+i>10)for(let r=10;r>10-i;r--)t.push([r,n]);else for(let e=r;e<r+i;e++)t.push([e,n]);if("y"===e)if(n+i>10)for(let n=10;n>10-i;n--)t.push([r,n]);else for(let e=n;e<n+i;e++)t.push([r,e]);return t}(),hitAt:[],sunk:!1,hit(t){this.hitAt.includes(t)||this.hitAt.push(t),this.isSunk()},isSunk(){this.hitAt.length===this.length&&(this.sunk=!0)}}}function n(){function t(t,r,n){return{id:t,x:r,y:n,hit:!1,hasShip:!1,missed:!1}}return{grid:function(){let r=[];for(let n=0;n<10;n++)for(let e=0;e<10;e++){let i=r.length+1;r.push(new t(i,e+1,n+1))}return r}(),ships:[],placeShip:function(t,n,e,i){const o=new r(t,n,e,i);this.ships.push(o),o.coords.forEach((t=>{for(let r=0;r<this.grid.length;r++){const n=this.grid[r];n.hasShip||t[0]===n.x&&t[1]===n.y&&(n.hasShip=!0)}}))},randomize:function(){const t=this;function n(e){const i=new r(e,Math.round(9*Math.random())+1,Math.round(9*Math.random())+1,Math.random()>.5?"x":"y");if(function(r){let n=[];return r.coords.forEach((r=>{t.grid.filter((t=>t.hasShip)).forEach((t=>{r[0]===t.x&&r[1]===t.y&&n.push(!1)}))})),n.every((t=>t))}(i))return i;n(e)}["carrier","battleship","cruiser","destroyer","destroyer","submarine","submarine"].forEach((r=>{const e=n(r);t.ships.push(e)}))},recieveAttack:function(t,r){let n=!1;this.ships.forEach((e=>{for(let i=0;i<e.coords.length;i++){const o=e.coords[i];if(o[0]===t&&o[1]===r)return void e.hit(i);n=!0}})),this.grid.forEach((e=>{e.x===t&&e.y===r&&(e.hit=!0,n&&(e.missed=!0))}))},gameoverEval:function(){let t=[];return this.ships.forEach((r=>{t.push(r.sunk)})),t.every((t=>t))}}}const e=(()=>{const t=new n,r=new n;return t.randomize(),r.randomize(),console.log(t),console.log(r),{playerBoard:t,AIBoard:r}})();t.exports={Ship:r,Gameboard:n,Player:function(t){return{name:t,isTurn:!1,isAI:!1,play:function t(r){let n=Math.round(9*Math.random())+1,e=Math.round(9*Math.random())+1;r.grid.forEach((i=>{if(i.x===n&&i.y===e){if(i.hit)return void t(r);r.recieveAttack(n,e)}}))}}},run:e}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}(()=>{const{run:t}=n(71)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPQyxRQUFVLENBQUV2RCxLQUFBQSxFQUFNa0IsVUFBQUEsRUFBV3NDLE9BdENwQyxTQUFnQkMsR0FpQmYsTUFBTyxDQUNOQSxLQUFNQSxFQUNOQyxRQUFRLEVBQ1JDLE1BQU0sRUFDTkMsS0FwQkQsU0FBU0EsRUFBS0MsR0FDYixJQUFJQyxFQUFRM0IsS0FBS0MsTUFBc0IsRUFBaEJELEtBQUtFLFVBQWdCLEVBQ3hDMEIsRUFBUTVCLEtBQUtDLE1BQXNCLEVBQWhCRCxLQUFLRSxVQUFnQixFQUU1Q3dCLEVBQU10QyxLQUFLTSxTQUFTRSxJQUNuQixHQUFJQSxFQUFLN0IsSUFBTTRELEdBQVMvQixFQUFLNUIsSUFBTTRELEVBQU8sQ0FDekMsR0FBSWhDLEVBQUtsQixJQUVSLFlBREErQyxFQUFLQyxHQUdMQSxFQUFNaEIsY0FBY2lCLEVBQU9DLFVBMkJZZCxJQUFBQSxLQzNPeENlLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFaLFFBR3JCLElBQUlELEVBQVNVLEVBQXlCRSxHQUFZLENBR2pEWCxRQUFTLElBT1YsT0FIQWMsRUFBb0JILEdBQVVaLEVBQVFBLEVBQU9DLFFBQVNVLEdBRy9DWCxFQUFPQyxRLE1DckJmLE1BQU0sSUFBRU4sR0FBUSxFQUFRLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvZ2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gU2hpcCh0eXBlLCB4LCB5LCBheGlzKSB7XG5cdGNvbnN0IGxlbmd0aCA9IGdldFNoaXBMZW5ndGgodHlwZSk7XG5cblx0ZnVuY3Rpb24gZ2V0U2hpcExlbmd0aCh0eXBlKSB7XG5cdFx0aWYgKHR5cGUgPT09ICdjYXJyaWVyJykgcmV0dXJuIDU7XG5cdFx0aWYgKHR5cGUgPT09ICdiYXR0bGVzaGlwJykgcmV0dXJuIDQ7XG5cdFx0aWYgKHR5cGUgPT09ICdjcnVpc2VyJykgcmV0dXJuIDM7XG5cdFx0aWYgKHR5cGUgPT09ICdkZXN0cm95ZXInKSByZXR1cm4gMjtcblx0XHRpZiAodHlwZSA9PT0gJ3N1Ym1hcmluZScpIHJldHVybiAxO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Q29vcmRzKCkge1xuXHRcdGxldCBjb29yZHMgPSBbXTtcblxuXHRcdGlmIChheGlzID09PSAneCcpIHtcblx0XHRcdGlmICh4ICsgbGVuZ3RoID4gMTApIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDEwOyBpID4gMTAgLSBsZW5ndGg7IGktLSkge1xuXHRcdFx0XHRcdGNvb3Jkcy5wdXNoKFtpLCB5XSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAobGV0IGkgPSB4OyBpIDwgeCArIGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29vcmRzLnB1c2goW2ksIHldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChheGlzID09PSAneScpIHtcblx0XHRcdGlmICh5ICsgbGVuZ3RoID4gMTApIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDEwOyBpID4gMTAgLSBsZW5ndGg7IGktLSkge1xuXHRcdFx0XHRcdGNvb3Jkcy5wdXNoKFt4LCBpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAobGV0IGkgPSB5OyBpIDwgeSArIGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29vcmRzLnB1c2goW3gsIGldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjb29yZHM7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IHR5cGUsXG5cdFx0YXhpczogYXhpcyxcblx0XHRsZW5ndGg6IGxlbmd0aCxcblx0XHRjb29yZHM6IGdldENvb3JkcygpLFxuXHRcdGhpdEF0OiBbXSxcblx0XHRzdW5rOiBmYWxzZSxcblx0XHRoaXQobikge1xuXHRcdFx0aWYgKCF0aGlzLmhpdEF0LmluY2x1ZGVzKG4pKSB0aGlzLmhpdEF0LnB1c2gobik7XG5cdFx0XHR0aGlzLmlzU3VuaygpO1xuXHRcdH0sXG5cdFx0aXNTdW5rKCkge1xuXHRcdFx0aWYgKHRoaXMuaGl0QXQubGVuZ3RoID09PSB0aGlzLmxlbmd0aCkgdGhpcy5zdW5rID0gdHJ1ZTtcblx0XHR9LFxuXHR9O1xufVxuXG5mdW5jdGlvbiBHYW1lYm9hcmQoKSB7XG5cdGZ1bmN0aW9uIEdyaWQoaWQsIHgsIHkpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aWQ6IGlkLFxuXHRcdFx0eDogeCxcblx0XHRcdHk6IHksXG5cdFx0XHRoaXQ6IGZhbHNlLFxuXHRcdFx0aGFzU2hpcDogZmFsc2UsXG5cdFx0XHRtaXNzZWQ6IGZhbHNlLFxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZUdyaWQoKSB7XG5cdFx0bGV0IGdyaWQgPSBbXTtcblxuXHRcdGZvciAobGV0IHkgPSAwOyB5IDwgMTA7IHkrKykge1xuXHRcdFx0Zm9yIChsZXQgeCA9IDA7IHggPCAxMDsgeCsrKSB7XG5cdFx0XHRcdGxldCBjZWxsSWQgPSBncmlkLmxlbmd0aCArIDE7XG5cblx0XHRcdFx0Z3JpZC5wdXNoKG5ldyBHcmlkKGNlbGxJZCwgeCArIDEsIHkgKyAxKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdyaWQ7XG5cdH1cblxuXHRmdW5jdGlvbiBwbGFjZVNoaXAodHlwZSwgeCwgeSwgYXhpcykge1xuXHRcdGNvbnN0IG5ld1NoaXAgPSBuZXcgU2hpcCh0eXBlLCB4LCB5LCBheGlzKTtcblx0XHR0aGlzLnNoaXBzLnB1c2gobmV3U2hpcCk7XG5cblx0XHRuZXdTaGlwLmNvb3Jkcy5mb3JFYWNoKChjb29yZCkgPT4ge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdyaWQubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgY2VsbCA9IHRoaXMuZ3JpZFtpXTtcblxuXHRcdFx0XHRpZiAoIWNlbGwuaGFzU2hpcCkge1xuXHRcdFx0XHRcdGlmIChjb29yZFswXSA9PT0gY2VsbC54ICYmIGNvb3JkWzFdID09PSBjZWxsLnkpIHtcblx0XHRcdFx0XHRcdGNlbGwuaGFzU2hpcCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiByYW5kb21pemUoKSB7XG5cdFx0Y29uc3QgZ2FtZWJvYXJkID0gdGhpcztcblx0XHRjb25zdCBzaGlwVHlwZXMgPSBbXG5cdFx0XHQnY2FycmllcicsXG5cdFx0XHQnYmF0dGxlc2hpcCcsXG5cdFx0XHQnY3J1aXNlcicsXG5cdFx0XHQnZGVzdHJveWVyJyxcblx0XHRcdCdkZXN0cm95ZXInLFxuXHRcdFx0J3N1Ym1hcmluZScsXG5cdFx0XHQnc3VibWFyaW5lJyxcblx0XHRdO1xuXHRcdGNvbnN0IHJhbmRYID0gKCkgPT4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSkgKyAxO1xuXHRcdGNvbnN0IHJhbmRZID0gKCkgPT4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSkgKyAxO1xuXHRcdGNvbnN0IHJhbmRBeGlzID0gKCkgPT4ge1xuXHRcdFx0aWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHJldHVybiAneCc7XG5cdFx0XHRlbHNlIHJldHVybiAneSc7XG5cdFx0fTtcblxuXHRcdGZ1bmN0aW9uIG9jY3VwaWVkQ2VsbHMoKSB7XG5cdFx0XHRyZXR1cm4gZ2FtZWJvYXJkLmdyaWQuZmlsdGVyKChjZWxsKSA9PiBjZWxsLmhhc1NoaXApO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNvb3Jkc0FyZUNsZWFyKHNoaXApIHtcblx0XHRcdGxldCByZXN1bHRzID0gW107XG5cblx0XHRcdHNoaXAuY29vcmRzLmZvckVhY2goKHBhaXIpID0+IHtcblx0XHRcdFx0b2NjdXBpZWRDZWxscygpLmZvckVhY2goKGNlbGwpID0+IHtcblx0XHRcdFx0XHRpZiAocGFpclswXSA9PT0gY2VsbC54ICYmIHBhaXJbMV0gPT09IGNlbGwueSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKGZhbHNlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0cy5ldmVyeSgodmFsKSA9PiB2YWwpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlU2hpcCh0eXBlKSB7XG5cdFx0XHRjb25zdCBuZXdTaGlwID0gbmV3IFNoaXAodHlwZSwgcmFuZFgoKSwgcmFuZFkoKSwgcmFuZEF4aXMoKSk7XG5cblx0XHRcdGlmIChjb29yZHNBcmVDbGVhcihuZXdTaGlwKSkgcmV0dXJuIG5ld1NoaXA7XG5cdFx0XHRlbHNlIHZhbGlkYXRlU2hpcCh0eXBlKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBwbGFjZVNoaXBzKCkge1xuXHRcdFx0c2hpcFR5cGVzLmZvckVhY2goKHNoaXApID0+IHtcblx0XHRcdFx0Y29uc3QgbmV3U2hpcCA9IHZhbGlkYXRlU2hpcChzaGlwKTtcblxuXHRcdFx0XHRnYW1lYm9hcmQuc2hpcHMucHVzaChuZXdTaGlwKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHBsYWNlU2hpcHMoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlY2lldmVBdHRhY2soeCwgeSkge1xuXHRcdGxldCBtaXNzZWQgPSBmYWxzZTtcblxuXHRcdHRoaXMuc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmNvb3Jkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBjb29yZFBhaXIgPSBzaGlwLmNvb3Jkc1tpXTtcblx0XHRcdFx0aWYgKGNvb3JkUGFpclswXSA9PT0geCAmJiBjb29yZFBhaXJbMV0gPT09IHkpIHtcblx0XHRcdFx0XHRzaGlwLmhpdChpKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bWlzc2VkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5ncmlkLmZvckVhY2goKGNlbGwpID0+IHtcblx0XHRcdGlmIChjZWxsLnggPT09IHggJiYgY2VsbC55ID09PSB5KSB7XG5cdFx0XHRcdGNlbGwuaGl0ID0gdHJ1ZTtcblx0XHRcdFx0aWYgKG1pc3NlZCkge1xuXHRcdFx0XHRcdGNlbGwubWlzc2VkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2FtZW92ZXJFdmFsKCkge1xuXHRcdGxldCBzdW5rZW5TaGlwcyA9IFtdO1xuXG5cdFx0dGhpcy5zaGlwcy5mb3JFYWNoKChzaGlwKSA9PiB7XG5cdFx0XHRzdW5rZW5TaGlwcy5wdXNoKHNoaXAuc3Vuayk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHN1bmtlblNoaXBzLmV2ZXJ5KCh2YWwpID0+IHZhbCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGdyaWQ6IGdlbmVyYXRlR3JpZCgpLFxuXHRcdHNoaXBzOiBbXSxcblx0XHRwbGFjZVNoaXAsXG5cdFx0cmFuZG9taXplLFxuXHRcdHJlY2lldmVBdHRhY2ssXG5cdFx0Z2FtZW92ZXJFdmFsLFxuXHR9O1xufVxuXG5mdW5jdGlvbiBQbGF5ZXIobmFtZSkge1xuXHRmdW5jdGlvbiBwbGF5KGJvYXJkKSB7XG5cdFx0bGV0IHJhbmRYID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSkgKyAxO1xuXHRcdGxldCByYW5kWSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpICsgMTtcblxuXHRcdGJvYXJkLmdyaWQuZm9yRWFjaCgoY2VsbCkgPT4ge1xuXHRcdFx0aWYgKGNlbGwueCA9PT0gcmFuZFggJiYgY2VsbC55ID09PSByYW5kWSkge1xuXHRcdFx0XHRpZiAoY2VsbC5oaXQpIHtcblx0XHRcdFx0XHRwbGF5KGJvYXJkKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ym9hcmQucmVjaWV2ZUF0dGFjayhyYW5kWCwgcmFuZFkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdG5hbWU6IG5hbWUsXG5cdFx0aXNUdXJuOiBmYWxzZSxcblx0XHRpc0FJOiBmYWxzZSxcblx0XHRwbGF5LFxuXHR9O1xufVxuXG5jb25zdCBydW4gPSAoKCkgPT4ge1xuXHRjb25zdCBwbGF5ZXJCb2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcblx0Y29uc3QgQUlCb2FyZCA9IG5ldyBHYW1lYm9hcmQoKTtcblxuXHRwbGF5ZXJCb2FyZC5yYW5kb21pemUoKTtcblx0QUlCb2FyZC5yYW5kb21pemUoKTtcblxuXHRjb25zb2xlLmxvZyhwbGF5ZXJCb2FyZCk7XG5cdGNvbnNvbGUubG9nKEFJQm9hcmQpO1xuXG5cdHJldHVybiB7IHBsYXllckJvYXJkLCBBSUJvYXJkIH07XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgU2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXIsIHJ1biB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImNvbnN0IHsgcnVuIH0gPSByZXF1aXJlKFwiLi9tb2R1bGVzL2dhbWVcIik7XG5cblxuXG4iXSwibmFtZXMiOlsiU2hpcCIsInR5cGUiLCJ4IiwieSIsImF4aXMiLCJsZW5ndGgiLCJnZXRTaGlwTGVuZ3RoIiwiY29vcmRzIiwiaSIsInB1c2giLCJnZXRDb29yZHMiLCJoaXRBdCIsInN1bmsiLCJoaXQiLCJuIiwidGhpcyIsImluY2x1ZGVzIiwiaXNTdW5rIiwiR2FtZWJvYXJkIiwiR3JpZCIsImlkIiwiaGFzU2hpcCIsIm1pc3NlZCIsImdyaWQiLCJjZWxsSWQiLCJnZW5lcmF0ZUdyaWQiLCJzaGlwcyIsInBsYWNlU2hpcCIsIm5ld1NoaXAiLCJmb3JFYWNoIiwiY29vcmQiLCJjZWxsIiwicmFuZG9taXplIiwiZ2FtZWJvYXJkIiwidmFsaWRhdGVTaGlwIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwic2hpcCIsInJlc3VsdHMiLCJwYWlyIiwiZmlsdGVyIiwiZXZlcnkiLCJ2YWwiLCJjb29yZHNBcmVDbGVhciIsInJlY2lldmVBdHRhY2siLCJjb29yZFBhaXIiLCJnYW1lb3ZlckV2YWwiLCJzdW5rZW5TaGlwcyIsInJ1biIsInBsYXllckJvYXJkIiwiQUlCb2FyZCIsImNvbnNvbGUiLCJsb2ciLCJtb2R1bGUiLCJleHBvcnRzIiwiUGxheWVyIiwibmFtZSIsImlzVHVybiIsImlzQUkiLCJwbGF5IiwiYm9hcmQiLCJyYW5kWCIsInJhbmRZIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=